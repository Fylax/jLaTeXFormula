window.onload = function () {
    var symbols = [
        ["pm",
            "cap",
            "diamond",
            "oplus",
            //"mp",
            "cup",
            "bigtriangleup",
            //"ominus",
            "times",
            //"uplus",
            "bigtriangledown",
            "otimes",
            "div",
            //"sqcap",
            "triangleleft",
            "oslash",
            //"ast",
            //"sqcup",
            "triangleright",
            "odot",
            "star",
            "vee",
            //"bigcirc",
            "circ",
            "wedge",
            "dagger",
            //"bullet",
            "setminus",
            //"ddagger",
            "cdot",
            //"wr",
            //"amalg",
            "leq",
            "geq",
            //"equiv",
            "models",
            //"prec",
            //"succ",
            //"sim",
            //"perp",
            //"preceq",
            //"succeq",
            //"simeq",
            //"mid",
            //"ll",
            //"gg",
            //"asymp",
            //"parallel",
            "subset",
            "supset",
            "approx",
            //"bowtie",
            "subseteq",
            "supseteq",
            "cong",
            "neq",
            //"smile",
            //"sqsubseteq",
            //"sqsupseteq",
            //"doteq",
            //"frown",
            "in",
            //"ni",
            //"propto",
            //"vdash",
            //"dashv",
            "sum_{i=0}^{+\\infty}",
            "bigcap_{a}^{b}",
            "bigcup_{a}^{b}",
            "bigoplus",
            "bigodot",
            "bigotimes",
            "prod_{i=0}^{+\\infty}",
            "coprod_{i=0}^{+\\infty}",
            "bigsqcup",
            "bigwedge",
            "bigvee",
            "biguplus",
            "int_{a}^{b}",
            "iint_{a}^{b}",
            "iiint_{a}^{b}",
            //"iiiint",
            //"idotsint",
            "oint_{\\gamma}",
            //"varoint_{\\gamma}",
            //"dotsint",
            //"fint",
            //"landdownint",
            //"landupint",
            //"oiint",
            //"ointclockwise",
            //"ointctrclockwise",
            //"sqint",
            //"sqiint",
            //"varointclockwise",
            //"varointctrclockwise",
            //"leqslant",
            //"geqslant",
            //"lhd",
            //"rhd",
            //"unlhd",
            //"unrhd",
            //"Join",
            //"dotplus",
            //"smallsetminus",
            //"Cap",
            //"Cup",
            "barwedge",
            "veebar",
            //"doublebarwedge",
            //"boxminus",
            //"boxtimes",
            "boxdot",
            //"boxplus",
            //"divideontimes",
            //"ltimes",
            //"rtimes",
            //"leftthreetimes",
            //"righttreetimes",
            //"curlywedge",
            //"curlyvee",
            //"circleddash",
            //"circleddast",
            "circledcirc",
            //"centerdot",
            //"intercal",
            //"leqq",
            //"eqlantless",
            //"lesssim",
            //"lessapprox",
            //"approxeq",
            //"lessdot",
            //"lll",
            //"lessgtr",
            //"lesseqgtr",
            //"lesseqqgtr",
            //"doteqdot",
            //"risingdotseq",
            //"fallingdotseq",
            //"backsim",
            //"backsimeq",
            //"subseteqq",
            //"Subset",
            //"preccurlyeq",
            //"curlyeqprec",
            //"precsim",
            //"precapprox",
            //"vartriangleleft",
            //"trianglelefteq",
            //"vDash",
            //"Vvdash",
            //"smallsmile",
            //"smallfrown",
            //"bumpeq",
            //"Bumpeq",
            //"geqq",
            //"eqslantgtr",
            //"gtrsim",
            //"gtrapprox",
            //"gtrdot",
            //"ggg",
            //"gtrless",
            //"gtreqless",
            //"gtreqqless",
            //"eqcirc",
            //"circeq",
            //"triangleq",
            //"thicksim",
            //"thickapprox",
            //"supseteqq",
            //"Supset",
            //"succcurlyeq",
            //"curlyecsucc",
            //"succsim",
            //"succapprox",
            //"vartriangleright",
            //"trianglerighteq",
            //"Vdash",
            //"shortmid",
            //"shortparallel",
            //"between",
            //"pitchfork",
            //"varpropto",
            //"blacktriangleleft",
            //"therefore",
            //"backepsilon",
            //"blacktriangleright",
            //"because",
            //"nless",
            "nleq",
            //"nleqslant",
            //"nleqq",
            //"lneq",
            //"lneqq",
            //"lvertneqq",
            //"lnsim",
            //"lnapprox",
            //"nprec",
            //"npreceq",
            //"precnsim",
            //"precnapprox",
            //"nsim",
            //"nmid",
            //"nshortmid",
            //"nvdash",
            //"nvDash",
            //"ntriangleleft",
            //"ntrianglelefteq",
            "nsubseteq",
            //"subsetneq",
            //"subsetneqq",
            //"varsubsetneqq",
            //"ngtr",
            "ngeq",
            //"ngeqslant",
            //"ngeqq",
            //"gneq",
            //"gneqq",
            //"gvertneqq",
            //"gnsim",
            //"gnapprox",
            //"nsucc",
            //"nsucceq",
            //"succnsim",
            //"succnapprox",
            //"ncong",
            //"nparallel",
            //"nshortparallel",
            //"nVDash",
            //"ntriangleright",
            //"ntrianglerighteq",
            "nsupseteq",
            //"nsupseteqq",
            //"supsetneq",
            //"varsupsetneq",
            //"supsetneqq",
            //"varsupsetneqq",
            //"dotcup",
            //"baro",
            //"bbslash",
            //"binampersand",
            //"bindnasrepma",
            //"boxast",
            //"boxbar",
            //"boxbox",
            //"boxbslash",
            //"boxcircle",
            "boxdot"//,
            //"boxempty",
            //"boxslash",
            //"curlyveedownarrow",
            //"curlyveeuparrow",
            //"curlywedgedownarrow",
            //"curlywedgeuparrow",
            //"fatbslash",
            //"fatsemi",
            //"fatslash",
            //"interleave",
            //"leftslice",
            //"merge",
            //"minuso",
            //"moo",
            //"nplus",
            //"obar",
            //"oblong",
            //"obslash",
            //"ogreaterthan",
            //"olessthan",
            //"ovee",
            //"owedge",
            //"rightslice",
            //"sslash",
            //"talloblong",
            //"varbigcirc",
            //"varcurlyvee",
            //"varcurlywedge",
            //"varoast",
            //"varobar",
            //"varobslash",
            //"varocircle",
            //"varodot",
            //"varogreaterthan",
            //"varolessthan",
            //"varominus",
            //"varoplus",
            //"varoslash",
            //"varotimes",
            //"varovee",
            //"varowedge",
        ],
        ["leftarrow",
            //"longeleftarrow",
            "uparrow",
            //"Leftarrow",
            //"Longleleftarrow",
            "Uparrow",
            "rightarrow",
            //"longrightarrow",
            "downarrow",
            //"Rightarrow",
            //"Longrightarrow",
            "Downarrow",
            //"leftrightarrow",
            //"longleftrightarrow",
            "updownarrow",
            //"Leftrightarrow",
            //"Longleftrightarrow",
            "Updownarrow",
            //"mapsto",
            //"longmapsto",
            //"nearrow",
            //"hookleftarrow",
            //"hookrightarrow",
            //"searrow",
            //"leftharpoonup",
            //"rightharpoonup",
            //"swarrow",
            //"leftharpoondown",
            //"rightharpoondown",
            //"nwarrow",
            //"leftrightharpoons",
            //"dashrightarrow",
            //"dashleftarrow",
            //"leftleftarrows",
            //"leftrightarrows",
            //"Lleftarrow",
            //"twoheadleftarrow",
            //"leftarrowtail",
            //"looparrowleft",
            //"rightleftharpoons",
            //"curvearrowleft",
            //"circlearrowleft",
            //"Lsh",
            //"upuparrows",
            //"upharpoonleft",
            //"downharpoonright",
            //"multimap",
            //"leftrightsquirarrow",
            //"rightrightarrows",
            //"rightleftarrows",
            //"twoheadrightarrows",
            //"rightarrowtail",
            //"looparrowright",
            //"curvearrowright",
            //"circlearrowright",
            //"Rsh",
            //"downdownarrow",
            //"upharpoonright",
            //"downharpoonleft",
            //"rightsquirarrow",
            //"nleftarrow",
            //"nrightarrow",
            //"nLeftarrow",
            //"nRightarrow",
            //"nleftrightarrow",
            //"nLeftrightarrow",
            //"leadsto",
            //"xleftarrow[xyz]{abc}",
            //"xrightarrow[xyz]{abc}"
        ],
        [
           "ldots",
           "cdots",
           "vdots",
           "ddots",
           //"aleph",
           "prime",
           //"forall",
           "infty",
           //"hbar",
           "emptyset",
           //"exists",
           //"imath",
           //"nabla",
           "neg",
           //"jmath",
           "surd",
           //"flat",
           "triangle",
           //"ell",
           "top",
           //"natural",
           //"clubsuit",
           //"wp",
           "bot",
           //"sharp",
           //"diamondsuit",
           //"Re\\left(z \\right )",
           "backslash",
           //"heartsuit",
           //"Im\\left(z \\right )",
           "angle",
           "partial",
           //"spadesuit",
           //"hslash",
           //"vartriangle",
           //"triangledown",
           //"square",
           //"lozenge",
           //"circledS",
           //"measuredangle",
           //"nexists",
           //"mho",
           //"Finv",
           //"Game",
           //"Bbbk",
           //"backprime",
           "varnothing"//,
           //"blacktriangle",
           //"blacktriangledown",
           //"blacksquare",
           //"blacklozenge",
           //"bigstar",
           //"sphericalangle",
           //"complement",
           //"eth",
           //"diagup",
           //"diagdown",
           //"laplacian",
           //"varlaplacian",
           //"coloneqq",
           //"Coloneqq",
           //"stackrel{\\text{\\tiny def}}{=}"
        ],
        [
            "vert",
            "Vert",
            "lbrace",
            "rbrace",
            "lfloor",
            "rfloor",
            "lceil",
            "rceil",
            "langle",
            "rangle",
            //"overbrace{xyz}",
            //"underbrace{xyz}",
            "overline{xyz}",
            //"underline{xyz}",
            //"overleftarrow{xyz}",
            //"overrightarrow{xyz}",
            //"widehat{xyz}",
            //"widetilde{xyz}",
            //"ulcorner",
            //"urcorner",
            //"llcorner",
            //"rrcorner",
            //"lmoustache",
            //"rmoustache",
            //"lgroup",
            //"rgroup",
            //"arrowvert",
            //"Arrowvert",
            //"bravecert",
            "sqrt{xyz}",
            //"sqrt[n]{xyz},
            "frac{a}{b}",
            //"abs{x}",
            "bar{a}",
            "vec{a}",
            "dot{a}",
            "ddot{a}",
            "hat{a}",
            "check{a}",
            "breve{a}",
            "tilde{a}",
            "acute{a}",
            "grave{a}"//,
            //"ket{\\psi}",
            //"bra{\\psi}",
            //"braket{\\phi}{\\psi}",
            //"matrixel{\\phi}{H}{\\psi}",
            //"slashed{a}"
        ],
        [
            "alpha",
            "beta",
            "gamma",
            "delta",
            "epsilon",
            "varepsilon",
            "zeta",
            "eta",
            "theta",
            "vartheta",
            "iota",
            "kappa",
            "lambda",
            "mu",
            "nu",
            "xi",
            "pi",
            "varpi",
            "rho",
            "varrho",
            "sigma",
            "varsigma",
            "tau",
            "upsilon",
            "phi",
            "varphi",
            "chi",
            "psi",
            "omega",
            "Gamma",
            "Delta",
            "Theta",
            "Lambda",
            "Xi",
            "Pi",
            "Sigma",
            "Upsilon",
            "Phi",
            "Psi",
            "Omega"
        ]
    ],
            i = 0;
    for (; i < symbols.length; ++i) {
        var j = 0;
        for (; j < symbols[i].length; ++j) {
            var btn = document.getElementById("symbols-" + i).appendChild(document.createElement("button"));
            btn.id = "formula-" + symbols[i][j];
            btn.className = "formula-btn";
            katex.render("\\" + symbols[i][j], btn);
        }
    }
    delete symbols;
    var btns = document.getElementsByClassName("formula-btn"),
            formula_container = document.getElementById("formula-container"),
            i = 0;
    for (; i < btns.length; ++i) {
        btns[i].onclick = function () {
            formula_container.value = formula_container.value + "\\" + this.id.substring(8);
            formula_container.onkeyup();
        };
    }
    formula_container.onkeyup = function () {
        try {
            katex.render(this.value, document.getElementById("rendered-container"));
        }
        catch(katex_parse_error){
            //No matter if you are still typing or you put the wrong formula, you'll se nothing.
        }
    };
    document.getElementById("group-select").onchange = function () {
        var i = 0;
        for (; i < this.length; ++i) {
            if (i === this.selectedIndex) {
                document.getElementById("symbols-" + i).style.display = "";
            } else {
                document.getElementById("symbols-" + i).style.display = "none";
            }
        }
    };
};
